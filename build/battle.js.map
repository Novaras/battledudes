{"version":3,"file":"battle.js","sourceRoot":"","sources":["../src/battle.ts"],"names":[],"mappings":"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"}